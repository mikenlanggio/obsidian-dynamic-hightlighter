const groupContainer = highlightersContainer.createEl("div", {
	cls: "group-container",
});
const groupHeader = groupContainer.createEl("div", {
	cls: "group-header",
});
const groupName = groupHeader.createSpan("group-name");
groupName.setText(group); // Add group name text

// Create a clickable icon for expand/collapse
const toggleIcon = groupHeader.createEl("div", { cls: "toggle-icon" });
setIcon(toggleIcon, "chevron-down"); // Add a down arrow icon (expand state)

// Handle click to toggle the icon and container
toggleIcon.onclick = () => {
	const highlightersList = groupContainer.querySelector(
		".highlighters-list"
	) as HTMLElement;
	if (highlightersList) {
		const isHidden =
			highlightersList.style.display === "none" ||
			highlightersList.style.display === "";
		highlightersList.style.display = isHidden ? "block" : "none"; // Toggle visibility

		// Update the icon
		setIcon(toggleIcon, isHidden ? "chevron-up" : "chevron-down");
	}
};
